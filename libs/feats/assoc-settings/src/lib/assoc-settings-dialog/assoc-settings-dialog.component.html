<div
  class="dialog-backdrop"
  @fadeAnimation
  (click)="closeDialog()"
  (keyup)="closeDialog()"
  aria-hidden="true"
  tabindex="0"
>
  <div
    class="animated-dialog-inner"
    @dialogAnimation
    (click)="$event.stopPropagation()"
    (keyup)="$event.stopPropagation()"
    tabindex="0"
  >
    <div class="dialog-sidebar">
      <div class="sidebar-contents">
        <div class="flex-grow-1">
          <div class="category-group">
            <div class="category-header">
              <h2 class="category-title">MEMBERSHIP</h2>
            </div>

            @for (category of membershipItems; track $index) {
            <ng-template
              [ngTemplateOutlet]="categoryItem"
              [ngTemplateOutletContext]="{ $implicit: category }"
            ></ng-template>
            }
          </div>

          <div class="category-group">
            <div class="category-header">
              <h2 class="category-title">FINANCES</h2>
            </div>

            @for(category of settingsCategories; track $index) {
            <div
              class="category-item"
              [routerLink]="[category.route, { skipLocationChange: true }]"
              routerLinkActive="active-route"
              #rla="routerLinkActive"
            >
              <mat-icon class="category-icon">{{ category.icon }}</mat-icon>
              <span class="category-text">{{ category.name }}</span>
            </div>
            }
          </div>
        </div>
      </div>

      <ng-template #categoryItem let-category>
        <div
          class="category-item"
          [routerLink]="[category.route, { skipLocationChange: true }]"
          routerLinkActive="active-route"
          #rla="routerLinkActive"
        >
          <mat-icon class="category-icon">{{ category.icon }}</mat-icon>
          <span class="category-text">{{ category.name }}</span>
        </div>
      </ng-template>
    </div>

    <div class="settings-content">
      <router-outlet></router-outlet>
    </div>

    <div class="settings-aside">
      <div class="close-btn">
        <button
          mat-mini-fab
          aria-label="close association settings"
          class="close-button"
          (click)="closeDialog()"
        >
          <mat-icon>close</mat-icon>
        </button>
        <span>ESC</span>
      </div>
    </div>
  </div>
</div>
